# 閉環系統驗證報告

**生成時間**: 2026-02-25T03:40:55.553315
**系統版本**: 3.0.0
**整體狀態**: ✅ PASS
**總耗時**: 20.015s
**連續運行**: 第 3 次

## 摘要

| 指標 | 數值 |
|------|------|
| 通過 | 23 |
| 失敗 | 0 |
| 總計 | 23 |
| 通過率 | 100.0% |

## 各層驗證結果

### Layer 1: 合約（Contract）驗證 ✅

- **耗時**: 0.027s
- **通過**: 5/5

| 測試項 | 狀態 | 耗時 | 說明 |
|--------|------|------|------|
| decision.schema.json 有效性 | ✅ | 9ms | Schema 格式正確 |
| action.schema.json 有效性 | ✅ | 5ms | Schema 格式正確 |
| run.schema.json 有效性 | ✅ | 4ms | Schema 格式正確 |
| 版本號 semver 格式 | ✅ | 1ms | 所有版本號符合 semver |
| sample decision 驗證 | ✅ | 9ms | Decision 符合 schema |

### Layer 2: 狀態機（State Machine）驗證 ✅

- **耗時**: 0.000s
- **通過**: 5/5

| 測試項 | 狀態 | 耗時 | 說明 |
|--------|------|------|------|
| 合法狀態轉移 | ✅ | 0ms | 測試了 5 個合法轉移 |
| 非法狀態轉移被拒絕 | ✅ | 0ms | PENDING -> SUCCESS 正確被拒絕 |
| SUCCEEDED 前必須經過 VERIFYING | ✅ | 0ms | VERIFYING -> VERIFIED -> SUCCEEDED 路徑存在 |
| HIGH/CRITICAL 需要審批 | ✅ | 0ms | HIGH/CRITICAL 風險正確標記為需要審批 |
| VERIFYING 失敗路徑正確 | ✅ | 0ms | VERIFYING 只能轉移到: ['VERIFIED', 'ROLLED_BACK', 'ESCALATED'] |

### Layer 3: 幂等（Idempotency）驗證 ✅

- **耗時**: 3.004s
- **通過**: 3/3

| 測試項 | 狀態 | 耗時 | 說明 |
|--------|------|------|------|
| 同一 action 連續執行幂等 | ✅ | 1001ms | 3次執行都成功，幂等性驗證通過 |
| 重放不產生副作用 | ✅ | 1001ms | 5次重放都正確處理 |
| 並發執行安全 | ✅ | 1001ms | 3個並發請求，1個成功 |

### Layer 4: Crash-Resume 驗證 ✅

- **耗時**: 0.002s
- **通過**: 3/3

| 測試項 | 狀態 | 耗時 | 說明 |
|--------|------|------|------|
| 狀態持久化 | ✅ | 1ms | 狀態正確持久化和恢復 |
| 狀態恢復 | ✅ | 0ms | 狀態正確恢復到 PLANNED |
| 終態檢測 | ✅ | 0ms | 4 個終態正確識別 |

### Layer 5: Verification Gate 驗證 ✅

- **耗時**: 2.002s
- **通過**: 3/3

| 測試項 | 狀態 | 耗時 | 說明 |
|--------|------|------|------|
| 驗證通過 | ✅ | 2002ms | 驗證正確通過 |
| 驗證失敗觸發回滾 | ✅ | 0ms | 驗證失敗正確觸發回滾 |
| 驗證配置正確 | ✅ | 0ms | 驗證啟用且自動回滾 |

### Layer 6: 稽核/可重播（Audit/Reproducibility）驗證 ✅

- **耗時**: 0.001s
- **通過**: 4/4

| 測試項 | 狀態 | 耗時 | 說明 |
|--------|------|------|------|
| 證據收集 | ✅ | 0ms | 證據正確收集且完整性驗證通過 |
| hash 驗證 | ✅ | 0ms | hash 正確計算且驗證通過 |
| 證據鏈完整性 | ✅ | 0ms | 證據鏈完整性驗證通過 |
| manifest 生成 | ✅ | 0ms | manifest hash 正確 |
