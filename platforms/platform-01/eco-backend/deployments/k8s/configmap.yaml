# =============================================================================
# Eco-Backend ConfigMap
# =============================================================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: eco-backend-config
  namespace: eco-backend
data:
  APP_NAME: "eco-backend"
  APP_VERSION: "1.0.0"
  ENVIRONMENT: "production"
  HOST: "0.0.0.0"
  PORT: "8000"
  WORKERS: "4"
  
  # 數據庫配置
  DATABASE_POOL_SIZE: "20"
  DATABASE_MAX_OVERFLOW: "10"
  DATABASE_ECHO: "false"
  
  # Redis配置
  REDIS_POOL_SIZE: "50"
  
  # 認證配置
  ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  REFRESH_TOKEN_EXPIRE_DAYS: "7"
  
  # CORS配置
  CORS_ORIGINS: "https://eco-platform.io,https://app.eco-platform.io"
  CORS_ALLOW_CREDENTIALS: "true"
  CORS_ALLOW_METHODS: "GET,POST,PUT,DELETE,PATCH,OPTIONS"
  CORS_ALLOW_HEADERS: "*"
  
  # 限流配置
  RATE_LIMIT_DEFAULT: "100/minute"
  RATE_LIMIT_AUTH: "5/minute"
  RATE_LIMIT_AI: "10/minute"
  
  # 熔斷配置
  CIRCUIT_BREAKER_FAILURE_THRESHOLD: "5"
  CIRCUIT_BREAKER_RECOVERY_TIMEOUT: "60"
  
  # 日誌配置
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
  
  # 監控配置
  METRICS_ENABLED: "true"
  METRICS_PORT: "9090"
  HEALTH_CHECK_INTERVAL: "30"
  
  # Celery配置
  CELERY_TASK_ALWAYS_EAGER: "false"
  CELERY_WORKER_CONCURRENCY: "4"
